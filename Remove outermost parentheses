#include <iostream>
#include <string>
using namespace std;

string removeOuterParentheses(string s) {
    string result = "";
    int depth = 0;

    for (char ch : s) {
        if (ch == '(') {
            if (depth > 0) result += ch; // not outermost
            depth++;
        } else { // ch == ')'
            depth--;
            if (depth > 0) result += ch; // not outermost
        }
    }
    return result;
}

int main() {
    cout << removeOuterParentheses("(()())(())") << endl;   // "()()()"
    cout << removeOuterParentheses("(()())(())(()(()))") << endl; // "()()()()(())"
    cout << removeOuterParentheses("()()") << endl;         // ""
    return 0;
}
